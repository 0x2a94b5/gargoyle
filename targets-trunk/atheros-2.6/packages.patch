--- ../package/gargoyle/Makefile	2008-09-22 17:26:31.000000000 -0400
+++ package/gargoyle/Makefile	2008-09-22 17:42:45.000000000 -0400
@@ -14,7 +14,7 @@
 	SECTION:=admin
 	CATEGORY:=Administration
 	TITLE:=Gargoyle Web Interface
-	DEPENDS:=+uci +libuci +haserl-dev +ntpclient +miniupnpd +httpd-gargoyle +qos-gargoyle +bwmon-gargoyle +ddns-gargoyle +webmon-gargoyle +libericstools 
+	DEPENDS:=+wpa-supplicant +hostapd +uci +libuci +haserl-dev +ntpclient +miniupnpd +httpd-gargoyle +qos-gargoyle +bwmon-gargoyle +ddns-gargoyle +webmon-gargoyle +libericstools 
 	MAINTAINER:=Eric Bishop <eric@gargoyle-router.com>
 endef
 
@@ -65,13 +65,7 @@
 		rm -rf $${IPKG_INSTROOT}/lib/wifi/broadcom.sh.tmp 2>/dev/null
 	fi
 
-	#install new madwifi wireless init script if necessary
-	if [ -e $${IPKG_INSTROOT}/lib/wifi/madwifi.sh ] ; then
-		mv $${IPKG_INSTROOT}/lib/wifi/madwifi.sh.tmp $${IPKG_INSTROOT}/lib/wifi/madwifi.sh 2>/dev/null
-		chmod 744 $${IPKG_INSTROOT}/lib/wifi/madwifi.sh 2>/dev/null
-	else
-		rm -rf $${IPKG_INSTROOT}/lib/wifi/madwifi.sh.tmp 2>/dev/null
-	fi
+	rm -rf $${IPKG_INSTROOT}/lib/wifi/madwifi.sh.tmp 2>/dev/null
 
 	#initialize ntpclient
 	if [ -e $${IPKG_INSTROOT}/etc/TZ ] ; then
